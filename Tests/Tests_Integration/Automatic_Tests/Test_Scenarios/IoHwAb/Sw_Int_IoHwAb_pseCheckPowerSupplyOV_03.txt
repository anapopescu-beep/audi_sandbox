					Autoliv Electronics Document
--------------------------------------------------------------------------
Nightly test: No
Test type: Requirement-Based, Interface Test
Regression Test: No
Fault injection method used: No
Resource usage evaluation: No
Priority: No
Safety relevant: No
Requirement under test: ARCH_SW_IoHwAb_pseCheckPowerSupplyOV, ARCH_SW_pclCheckPowerSupplyOV
ARCH_SW_IoHwAb_pseCheckPowerSupplyOV: The auto-test shall read the {KL30 Supply Voltage} and compare it to the {NVP_u16OverKL30QualificationThrs} threshold from the NvM memory. Comparison shall be done in mV. If the {Adc Auto-test Result} is NOK then the comparison cannot be done and the {Autotest Result} must be NOK. If the {KL 30 Supply Voltage} is greater than {NVP_u16OverKL30QualificationThrs} then the {Autotest Result} must be NOK. If the If the {KL 30 Supply Voltage} is lower or equal than {NVP_u16OverKL30QualificationThrs} then the {Autotest Result} must be OK.
ARCH_SW_pclCheckPowerSupplyOV: This is the test function for overvoltage on the Power stage battery voltage.
--------------------------------------------------------------------------

Preconditions

	Step 1: Bench Initialization

Action: ARCH_SW_IoHwAb_pseCheckPowerSupplyOV, ARCH_SW_pclCheckPowerSupplyOV

	Step 2: Set a breakpoint in function ATM_Cbk_CheckPowerSupplyOV at the RTE Call for CheckPowerSupplyOvervoltageAutotest 
		Expected result:  BP reached

	Step 3: Set a breakpoint in function IoHwAb_CheckPowerSupplyOvervoltageAutotest at the previous ADC autotest evaluation. 
		Expected result:  BP reached

	Step 4: Overwrite previous ADC test result with KU8_ATM_TEST_OK. 
		Expected result:  Variable overwritten with 0x1

	Step 5: Set a breakpoint in function IoHwAb_CheckPowerSupplyOvervoltageAutotest at the check of last autotest status. 
		Expected result:  BP reached

	Step 6: Overwrite battery voltage with 1000. 
		Expected result:  Variable overwritten with 1000.

	Step 7: Set a breakpoint in function ATM_Cbk_CheckPowerSupplyOV at return of test result 
		Expected result:  BP reached

	Step 8: Evaluate test result 
		Expected result:  KU8_ATM_TEST_NOK

Postcondition

	Step 9: Return ECU to default values
