					Autoliv Electronics Document
--------------------------------------------------------------------------
Nightly test: No
Test type: Requirement-Based
Regression Test: No
Fault injection method used: No
Resource usage evaluation: No
Priority: No
Safety relevant: No
Requirement under test: ARCH_SW_NmIf_ptrrAsrComMServicesNmIf_NmIf_runMainFunction
ARCH_SW_NmIf_ptrrAsrComMServicesNmIf_NmIf_runMainFunction : The ComM_ASR40_RequestComMode runnable shall be called in the NmIf_runMainFunction runnable in order to: - Set ComM module to silent mode to disable transmission of frames when Process Mode is requested - Set ComM module to no com mode to disable transmission and reception of frames when Bus Timeout is received - Set ComM module to full com mode to enable transmission and reception of frames when Bus ACK is received.
--------------------------------------------------------------------------

Preconditions

	Step 1: Bench Initialization

Action: ARCH_SW_NmIf_ptrrAsrComMServicesNmIf_NmIf_runMainFunction

	Step 2: Set a breakpoint in function NmIf_runMainFunction at first If statement. 
		Expected result:  BP is reached

	Step 3: Modify variable nmif_u8TimeoutFramesStatus with value KU8_NMIF_BUS_TIMEOUT 
		Expected result:  Variable modified with 0x7.

	Step 4: Modify variable nmif_u8NoCommunicationStatus with value KU8_NMIF_NO_COMM_NOT_ACTIVE 
		Expected result:  Varable modified with 0x2.

	Step 5: Step In.

	Step 6: Modify variable nmif_u8WakeupFramesStatus with value KU8_NMIF_BUS_WAKEUP 
		Expected result:  Variable modified with 0x0.

	Step 7: Step In.

	Step 8: Step In function ComM_ASR40_RequestComMode. 
		Expected result:  ComM_ASR40_RequestComMode function.

Postcondition

	Step 9: Return ECU to default values
